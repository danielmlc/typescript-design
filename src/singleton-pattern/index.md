# 单例模式 (Singleton Pattern)

## 意图

**单例模式**是一种创建型设计模式，它保证一个类仅有一个实例，并提供一个访问该实例的全局节点。

当你需要一个对象来协调整个系统的操作时，单例模式非常有用。例如，一个全局的配置管理器、一个日志记录器或者一个数据库连接池。

## 场景

想象一下，你的应用程序需要一个配置对象，这个对象从一个配置文件（如 `config.json`）中读取设置。如果系统中的不同部分都创建自己的配置对象实例，那么不仅会造成内存浪费，还可能导致配置状态不一致的问题（比如，一个组件修改了配置，而另一个组件不知道）。

单例模式通过确保任何时候都只有一个 `Settings` 对象存在，来解决这个问题。所有需要访问配置的代码都通过一个统一的方法 (`getInstance()`) 来获取这个唯一的实例，从而保证了数据的一致性。

## 结构

单例模式的实现通常包含以下几个关键点：

1.  **私有静态实例 (Private Static Instance)**:
    *   一个私有的静态成员变量，用于保存类的唯一实例。

2.  **私有构造函数 (Private Constructor)**:
    *   将类的构造函数声明为 `private`，这样可以防止其他对象使用 `new` 操作符来直接实例化这个类。

3.  **公有静态访问方法 (Public Static Access Method)**:
    *   一个公有的静态方法（通常命名为 `getInstance()`），它作为获取单例实例的全局访问点。该方法会检查实例是否已被创建，如果尚未创建，则会调用私有构造函数创建一个实例并保存；如果已经存在，则直接返回该实例。

## 优点

*   **保证单一实例**: 确保一个类只有一个实例，避免了多个实例可能导致的状态冲突。
*   **全局访问点**: 提供了一个方便的全局访问点，可以轻松地从代码的任何地方访问该实例。
*   **延迟初始化 (Lazy Initialization)**: 只有在第一次请求实例时，才会创建它。这在实例创建开销较大时可以节省资源。

## 如何运行示例

你可以通过以下命令来运行这个 TypeScript 示例：

```bash
npx ts-node src/singleton-pattern/index.ts
```